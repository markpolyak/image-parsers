# Парсер https://depositphotos.com/search-new/index.html
## Описание программы парсера
Для реализации парсера была выбрана библиотека BeautifulSoup.

В зависимости от потребностей пользователь может изменять значения пяти параметров в коде программы:
1. В строке 110 переменная count_of_photos должна быть установлена в значение равное максимальному числу в имени уже имеющихся фотографий + 1. Это важно, поскольку исходя из этого значения новым фотографиям будет присваиваться имя в соответствии со значением этой переменной, и в случае если фотография с данным именем уже имеется, она будет заменена на новую.
2. В строке 112 переменная start_category показывает с какой категории программа должна начать выкачивать фотографии. Так как на данный момент на странице сайта их 10, то переменная принимает значения от 0 до 9.
3. В строке 114 переменная downloading_one_category устанавливается в True, если необходимо скачать либо докачать (например в случае ошибки) только одну категорию фотографий. В противном случае будут скачаны категории от стартовой (start_category) до последней.
4. В строке 12 переменная offset указывает на то - сколько фотографий из категории необходимо пропустить минус 100, начиная с первой фотографии первой страницы. Это необходимо, чтобы указать с какой страницы категории требуется начать скачивание фотографий.
5. В строке 22 проверочное значение в условии цикла устанавливается в зависимости от того, сколько фотографий из одной категории требуется загрузить.

Все остальные параметры не требуется изменять, и программа все делает автоматически.

Комментарии относительно остального кода приведены непосредстевнно в коде программы.

## Описание программы создания tar архивов с фотографиями
Для реализации был использован модуль shutil.

В строке 4 переменная child_directory хранит директорию, в которой пользователь хочет хранить архивы.
В строке 11 переменная parent_directory указывает на директорию, в которой хранятся архивируемые фотографии.

Алогритм программы:
1. В child_directory создаются 500 папок в которые будут распределяться все имеющиеся фотографии.
2. Из родительской категории вытаскиваются все имена файлов.
3. Фотографии копируются в каждую из 500 папок child_directory по 2000 в каждой папке.
4. Все 500 папок архивируются, и архивы сохраняются в child_directory.

## Описание программы поиска идентичных фотографий
Для сравнения содержимого фотографий был выбран форк Pillow библиотеки PIL.

В строке 7 переменная directory указывает на директорию, в которой хранятся фотографии.

Алогритм программы:
1. Из директории вытаскиваются все фотографии.
2. Для каждой фотографии вычисляется и сохраняется размер в байтах.
3. Названия фотографий и их размеры объединяются в единый двумерный массив.
4. Массив сортируется по размеру фотографий.
5. Вытаскиваются и сохраняются в переменную все описания фотографий.
6. В цикле происходит выделение групп фотографий одинакового размера, которые потенциально могут иметь одинаковое сожержимое.
7. Для каждой группы попарно и пописксельно сравниваются фотографии.
8. Если их сожержимое равно, то сравниваются описания к этим фотографиям.
9. Если и описания равны, то вторая фотография из пары помечается, как идентичная.
10. Для каждой группы помеченные фотографии сохраняются в результирующий массив и переменная count_of_identical_photos, показывающая количество лишних (идентичных) фотографий, увеличивается на количество помеченных фотографий из группы.
11. После окончания цикла результирующий массив идентичных фотографий сохраняется в файл для вохможности дальнейшей работы с этими названиями фотографий.
12. В консоль выводится количество идентичных фотографий.
